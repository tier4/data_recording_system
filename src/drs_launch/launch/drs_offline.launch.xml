<launch>
  <!-- Entry point of DRS launcher -->
  <arg name="vehicle_id" default="default"/>
  <arg name="live_sensor" default="False"
       description="If true, sensor drivers will be executed (for actual recording operation)"/>

  <let name="param_root_dir" value="$(find-pkg-share individual_params)/config/$(var vehicle_id)"/>

  <!-- front LiDAR -->
  <include file="$(find-pkg-share drs_launch)/launch/component/drs_aeva.launch.xml">
    <arg name="lidar_position" value="front"/>
    <arg name="lidar_model" value="Aeries2"/>
    <arg name="live_sensor" value="$(var live_sensor)"/>
  </include>

  <!-- right LiDAR -->
  <include file="$(find-pkg-share drs_launch)/launch/component/drs_seyond.launch.xml">
    <arg name="lidar_position" value="right"/>
    <arg name="lidar_model" value="RobinW"/>
    <arg name="live_sensor" value="$(var live_sensor)"/>
    <arg name="sensor_ip" value="192.168.3.203"/>
    <arg name="host_ip" value="192.168.3.1"/>
  </include>

  <!-- rear LiDAR -->
  <include file="$(find-pkg-share drs_launch)/launch/component/drs_seyond.launch.xml">
    <arg name="lidar_position" value="rear"/>
    <arg name="lidar_model" value="Falcon"/>
    <arg name="live_sensor" value="$(var live_sensor)"/>
    <arg name="sensor_ip" value="192.168.2.202"/>
    <arg name="host_ip" value="192.168.2.2"/>
    <arg name="data_port" value="2369"/>
  </include>

  <!-- left LiDAR -->
  <include file="$(find-pkg-share drs_launch)/launch/component/drs_seyond.launch.xml">
    <arg name="lidar_position" value="left"/>
    <arg name="lidar_model" value="RobinW"/>
    <arg name="live_sensor" value="$(var live_sensor)"/>
    <arg name="sensor_ip" value="192.168.3.204"/>
    <arg name="host_ip" value="192.168.3.2"/>
  </include>

  <include file="$(find-pkg-share pointcloud_concatenate)/launch/pointcloud_concatenate.launch.py">
    <arg name="base_frame" value="base_link"/>
    <arg name="use_intra_process" value="true"/>
    <arg name="use_multithread" value="true"/>
    <arg name="use_pointcloud_container" value="false"/>
  </include>

  <node pkg="tf2_ros" exec="static_transform_publisher" name="extrinsic_publisher"
          args="--frame-id base_link --child-frame-id drs_base_link --x 0.6895 --y 0.0 --z 1.971 --yaw 0.000 --pitch -0.020, --roll 0.000"/>
  <node pkg="tf2_ros" exec="static_transform_publisher" name="extrinsic_publisher"
        args="--frame-id drs_base_link --child-frame-id lidar_front --x 0.4734 --y 0.05 --z -0.0702 --yaw -1.5708 --pitch 0.000, --roll 0.005"/>
  <node pkg="tf2_ros" exec="static_transform_publisher" name="extrinsic_publisher"
        args="--frame-id drs_base_link --child-frame-id lidar_left --x 0.100 --y 0.560 --z -0.0832 --yaw 1.5708 --pitch 0.000, --roll 0.000"/>
  <node pkg="tf2_ros" exec="static_transform_publisher" name="extrinsic_publisher"
        args="--frame-id drs_base_link --child-frame-id lidar_right --x 0.100 --y -0.555 --z -0.0502 --yaw -1.583 --pitch 0.014, --roll 0.005"/>
  <node pkg="tf2_ros" exec="static_transform_publisher" name="extrinsic_publisher"
        args="--frame-id drs_base_link --child-frame-id lidar_rear --x -0.2494 --y 0.0 --z 0.0873 --yaw 3.142 --pitch 0.000, --roll 0.000"/>
  <include file="$(find-pkg-share drs_launch)/launch/component/lidar_camera_tf_publisher.launch.py">
    <arg name="tf_file_path" value="$(var param_root_dir)/camera0/camera0_calibration_results.yaml"/>
  </include>  
  <include file="$(find-pkg-share drs_launch)/launch/component/lidar_camera_tf_publisher.launch.py">
    <arg name="tf_file_path" value="$(var param_root_dir)/camera1/camera1_calibration_results.yaml"/>
  </include>  
  <include file="$(find-pkg-share drs_launch)/launch/component/lidar_camera_tf_publisher.launch.py">
    <arg name="tf_file_path" value="$(var param_root_dir)/camera2/camera2_calibration_results.yaml"/>
  </include>  
  <include file="$(find-pkg-share drs_launch)/launch/component/lidar_camera_tf_publisher.launch.py">
    <arg name="tf_file_path" value="$(var param_root_dir)/camera3/camera3_calibration_results.yaml"/>
  </include>  
  <include file="$(find-pkg-share drs_launch)/launch/component/lidar_camera_tf_publisher.launch.py">
    <arg name="tf_file_path" value="$(var param_root_dir)/camera4/camera4_calibration_results.yaml"/>
  </include>  
  <include file="$(find-pkg-share drs_launch)/launch/component/lidar_camera_tf_publisher.launch.py">
    <arg name="tf_file_path" value="$(var param_root_dir)/camera5/camera5_calibration_results.yaml"/>
  </include>  
  <include file="$(find-pkg-share drs_launch)/launch/component/lidar_camera_tf_publisher.launch.py">
    <arg name="tf_file_path" value="$(var param_root_dir)/camera6/camera6_calibration_results.yaml"/>
  </include>  
  <include file="$(find-pkg-share drs_launch)/launch/component/lidar_camera_tf_publisher.launch.py">
    <arg name="tf_file_path" value="$(var param_root_dir)/camera7/camera7_calibration_results.yaml"/>
  </include>  


</launch>
